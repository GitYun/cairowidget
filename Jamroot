import pch ;

project fchart
  : requirements
    <include>./
    <variant>release:<define>NDEBUG
    <variant>release:<cflags>"-Ofast -fno-plt -Wall -Wextra -g"
    <variant>release:<cxxflags>"-std=c++2a -fno-exceptions -fno-rtti -fno-stack-protector"
    <variant>release:<linkflags>"-fuse-ld=gold"
    <variant>debug:<cflags>"-Wall -Wextra -fno-omit-frame-pointer -fsanitize=address,undefined"
    <variant>debug:<cxxflags>"-std=c++2a -fno-rtti -fno-stack-protector"
    <variant>debug:<linkflags>"-fsanitize=address,undefined -fuse-ld=gold"
    <threading>multi
  : default-build debug
  : build-dir .build
  ;

lib GL : ;
lib GLX : ;
lib X11 : ;

lib cairo : ;

lib fltk : ;
lib fltk_gl : ;

lib fontconfig : ;
lib freetype : ;

lib pixman-1 : ;

exe example
  : cairowidget.cpp
    example.cpp
    cairo/<link>shared
    fltk/<link>shared
  : <link>static
    <threading>multi
  ;

exe example2
  : cairoportablewidget.cpp
    example.cpp
    cairo/<link>shared
    fltk/<link>shared
  : <link>static
    <threading>multi
  ;

exe example3
  : cairowindow.cpp
    cairographicsdriver.cpp
    cairosurfacedevice.cpp
    example2.cpp
    ..//cairo//cairo
    fltk/<link>shared
    fltk_gl/<link>shared
    fontconfig/<link>shared
    freetype/<link>shared
    pixman-1/<link>shared
    GL/<link>shared
    X11/<link>shared
  : <include>../cairo/cairo/src
    <include>../cairo/extra
    <link>static
    <threading>multi
  ;
